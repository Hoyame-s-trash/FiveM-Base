<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>ah yes the negotiator!</title>
        <link rel="stylesheet" type="text/css" href="./style.css" media="screen"/>
        <link rel="stylesheet" href="MenuAPI/style.css" type="text/css">
        <script src='https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js'></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
              integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
                integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
                crossorigin="anonymous"></script>

        <script src="https://s.ytimg.com/yts/jsbin/www-widgetapi-vflJJaNgk/www-widgetapi.js"></script>
        <script src="https://www.youtube.com/iframe_api"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.1.1/howler.min.js" type="text/javascript"></script>

        <script src="./vue.min.js" type="text/javascript"></script>
    </head>
    <body style="background: transparent !important;overflow: hidden;">

        <span class="text3d" style="display: none;">New personal high!</span>
        <canvas class="fireworks"></canvas>

        <div id = "body" v-bind:class="{ 'hideMouse': hideMouse}">

            <div class="modal fade" id="textboard" tabindex="-1" role="dialog" aria-hidden="true" data-keyboard="false"
                 data-backdrop="static">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="textboard_header">Result</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" @click="Close()">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form onkeydown="return event.key != 'Enter';">
                                <div class="form-group">
                                    <textarea class="textarea" style="min-height: 28vw;min-width: 100%;"></textarea>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal" @click="Close()">Close</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id = "notification" style = "display:none;">
                <div id = "text-notification">Do you want to accept the gift? <span style="color: orange;"><img src="./Y_Key_Light.png"><img src="./N_Key_Light.png"></span></div>
            </div>

            <div id="close_players" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
                 aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Choose the player</h5>
                        </div>
                        <div class="modal-body">

                            <table class="table">
                                <thead class="thead-dark">
                                <tr>
                                    <th scope="col">Name</th>
                                    <th scope="col">ID</th>
                                    <th scope="col"></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr v-for="item, index in ClosestPlayers">
                                    <td>{{item.name}}</td>
                                    <td>{{item.id}}</td>
                                    <td>
                                        <button type="button" class="btn btn-primary" data-dismiss="modal"
                                                style="float: right;" @click="selectPlayer(item.id)">
                                            Select
                                        </button>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" @click="Close()">Close</button>
                        </div>
                    </div>
                </div>
            </div>

            <span class="aim" :class="{ active: aimDisabled }" v-if="ActiveGameType == GameType.BALLOON_SHOOTER"></span>

            <div id = "container_darts" v-if="ActiveGameType == GameType.BALLOON_SHOOTER">

                <img class ="img_darts" v-for="n in GetMaxDartsLeft()" src="./dart.png">
                <img class ="img_darts" v-for="n in GetDartsLeft()" src="./dart_shadowed.png">

            </div>

            <div id = "time" v-if="CanCountTime()">
                {{time.toFixed(1)}}
                <div style="font-size: 1.5vw;position: relative;bottom: 1vw;">time left</div>
            </div>

            <div class="modal fade" id="highscore_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"  aria-hidden="true" data-keyboard="false" data-backdrop="static">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">
                                {{modalHighestScoreTitle}}<br>
                                {{difficultyTitle}}
                            </h5>
                        </div>
                        <div class="modal-body">
                            <table class="table table-bordered">
                                <thead>
                                <tr>
                                    <th scope="col">Place</th>
                                    <th scope="col">Player name</th>
                                    <th scope="col">Score</th>
                                </tr>
                                </thead>
                                <tbody>
                                    <tr v-for="(item, index) in highScores">
                                        <th scope="row">{{index + 1}}</th>
                                        <td>{{item.player_name}}</td>
                                        <td>{{item.score}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" @click="CloseHighScoreModal()">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="input">
            <div class="container" v-bind:class="[position, float]" v-if="visible" style="min-width: 339px !important;max-width: 339px !important;">

                <div class="title">
                    <p style="font-size: 40px;">{{titleMenu}}</p>
                </div>
                <br>
                <form>
                    <div class="input-group mb-3" id = "inputdiv">
                        <div class="input-group-prepend" v-if="AppInput.defaultTextInfront !== ''" style="height: 36.1px;position: relative;top: 1px;">
                            <span class="input-group-text" id="basic-addon1" style="border-radius: 0;">{{AppInput.defaultTextInfront}}</span>
                        </div>
                        <input id ="inputak" v-model="message" maxlength="10" type="number" class="form-control shadow-none" placeholder="Amount" aria-label="Username" aria-describedby="basic-addon1">
                    </div>
                </form>
                <div class = "button" @click="Choose()">
                    <p>{{ChooseText}}</p>
                </div>

                <div class = "button" @click="Close()">
                    <p>{{CloseText}}</p>
                </div>
            </div>
        </div>

        <div id="menu">
            <div class="container" v-bind:class="[position, float]" v-if="visible">
                <div class="title">
                    <p>carnival</p>
                </div>
                <div class="menu" style="background: black;">
                    <p style="color: orange;">{{titleMenu}}</p>
                </div>
                <div id = "scrolldiv">
                    <div v-for="item, index in menu" class="menu" v-bind:class="{ 'active': item.active}">
                        <p>
                            <span v-html="item.label"></span>
                            <span v-html="item.secondLabel" v-if="item.secondLabel !== ''" style="float: right;margin-right: 0.7vw;"></span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </body>

    <script src="./MenuAPI/listener.js" type="text/javascript"></script>

    <script src="./listener.js" type="text/javascript"></script>
    <script src="./xSound/config.js" type="text/javascript"></script>
    <script src="./xSound/listener.js" type="text/javascript"></script>
    <script src="./xSound/functions.js" type="text/javascript"></script>
    <script src="./xSound/SoundPlayer.js" type="text/javascript"></script>

    <script src = "./anime.js"></script>
    <script src="./fireworks.js" type="text/javascript"></script>
</html>