import{r as m,a as e,j as a,F as o}from"./jsx-runtime-7cf68bf7.js";import{f as A,b3 as E,aW as G,L as l,M as P,b4 as u,am as p,b5 as S,b6 as h,b7 as g,u as b,C as N,b8 as v,d as C,aj as O,b9 as R,ba as f,b0 as T,bb as I,N as L}from"./Phone-f429e90b.js";function V(){const[i,d]=m.useState(null),[n,c]=m.useState([]);m.useEffect(()=>{A("Garage",{action:"getVehicles"}).then(s=>{s&&c(s)})},[]);const r={car:a(G,{}),boat:a(u,{}),plane:a(p,{}),bike:a(S,{}),truck:a(h,{}),train:a(g,{})};return e("div",{className:"garage-container",style:{backgroundImage:"url(./assets/img/backgrounds/default/apps/garage/2.jpg)"},children:[a("div",{className:"blur-overlay"}),a("div",{className:"garage-header",children:i?e(o,{children:[a("div",{className:"title",children:i.model}),a(E,{className:"close",onClick:()=>d(!1)})]}):e("div",{className:"title",children:[a(G,{})," ",l("APPS.GARAGE.MY_CARS")]})}),a("div",{className:"garage-wrapper",children:i?a(U,{vehicle:i,setVehicle:d,setVehicles:c}):e(o,{children:[n.filter(s=>s.location==="out").length>0&&e(o,{children:[e("div",{className:"subtitle",children:[l("APPS.GARAGE.OUT"),a(P,{})]}),a("section",{children:n.filter(s=>s.location==="out").map((s,t)=>e("div",{className:"item small",onClick:()=>d(s),children:[a("div",{className:"icon blue",children:r[s.type]}),e("div",{className:"info",children:[a("div",{className:"title",children:s.model}),a("div",{className:"value",children:s.plate})]})]},t))})]}),n.filter(s=>s.location!=="out").length>0&&e(o,{children:[e("div",{className:"subtitle",children:[l("APPS.GARAGE.GARAGE"),a(P,{})]}),a("section",{children:n.filter(s=>s.location!=="out").map((s,t)=>e("div",{className:"item small",onClick:()=>d(s),children:[a("div",{className:"icon blue",children:r[s.type]}),e("div",{className:"info",children:[a("div",{className:"title",children:s.model}),e("div",{className:"value",children:[s.plate," - ",s.location]})]})]},t))})]})]})})]})}const U=({vehicle:i,setVehicle:d,setVehicles:n})=>{const c=b(L);return e("div",{className:"options-container",children:[e("div",{className:"grid-wrapper",children:[e("div",{className:"subtitle",children:[l("APPS.GARAGE.ACTIONS"),a(P,{})]}),e("div",{className:"grid",children:[e("div",{className:"item big",onClick:()=>{N.PopUp.set({title:l("APPS.GARAGE.WAYPOINT_POPUP.TITLE"),description:l("APPS.GARAGE.WAYPOINT_POPUP.TEXT").format({model:i.model}),buttons:[{title:l("APPS.GARAGE.WAYPOINT_POPUP.CANCEL")},{title:l("APPS.GARAGE.WAYPOINT_POPUP.PROCEED"),cb:()=>{A("Garage",{action:"setWaypoint",plate:i.plate})}}]})},children:[a("div",{className:"icon blue",children:a(v,{})}),e("div",{className:"info",children:[a("div",{className:"title",children:l("APPS.GARAGE.LOCATION")}),a("div",{className:"value",children:C(i.location==="out"?l("APPS.GARAGE.OUT"):i.location)})]})]}),i.locked!==void 0&&e("div",{className:"item big","data-active":i.locked,onClick:()=>{N.PopUp.set({title:l("APPS.GARAGE.LOCK_POPUP.TITLE").format({toggle:i.locked?l("APPS.GARAGE.UNLOCK"):l("APPS.GARAGE.LOCK")}),description:l("APPS.GARAGE.LOCK_POPUP.TEXT").format({toggle:(i.locked?l("APPS.GARAGE.UNLOCK"):l("APPS.GARAGE.LOCK")).toLowerCase()}),buttons:[{title:l("APPS.GARAGE.LOCK_POPUP.CANCEL")},{title:l("APPS.GARAGE.LOCK_POPUP.PROCEED"),cb:()=>{A("Garage",{action:"toggleLocked",plate:i.plate}).then(r=>{r!==void 0&&(n(s=>s.map(t=>t.plate===i.plate?{...t,locked:!t.locked}:t)),d(s=>({...s,locked:!s.locked})))})}}]})},children:[a("div",{className:"icon blue",children:a(O,{})}),e("div",{className:"info",children:[a("div",{className:"title",children:l("APPS.GARAGE.STATUS")}),a("div",{className:"value",children:i.locked?l("APPS.GARAGE.LOCKED"):l("APPS.GARAGE.UNLOCKED")})]})]}),c.valet.enabled&&i.location!=="out"&&i.type==="car"&&e("div",{className:"item big",onClick:()=>{N.PopUp.set({title:l("APPS.GARAGE.VALET_POPUP.TITLE"),description:c.valet.price&&c.valet.price>0?l("APPS.GARAGE.VALET_POPUP.TEXT_PAID").format({model:i.model,plate:i.plate,amount:c.valet.price}):l("APPS.GARAGE.VALET_POPUP.TEXT").format({model:i.model,plate:i.plate}),buttons:[{title:l("APPS.GARAGE.VALET_POPUP.CANCEL")},{title:l("APPS.GARAGE.VALET_POPUP.PROCEED"),cb:()=>{A("Garage",{action:"valet",plate:i.plate})}}]})},children:[a("div",{className:"icon blue",children:a(R,{})}),e("div",{className:"info",children:[a("div",{className:"title",children:l("APPS.GARAGE.SUMMON")}),a("div",{className:"value",children:l("APPS.GARAGE.VALET")})]})]})]})]}),i.statistics&&Object.keys(i.statistics).length>0&&e("div",{className:"grid-wrapper",children:[e("div",{className:"subtitle",children:[l("APPS.GARAGE.STATISTICS"),a(P,{})]}),e("div",{className:"grid",children:[i.statistics.fuel&&e("div",{className:"item small",children:[a("div",{className:"icon blue",children:a(f,{})}),e("div",{className:"info",children:[a("div",{className:"title",children:l("APPS.GARAGE.FUEL")}),e("div",{className:"value",children:[i.statistics.fuel,"%"]})]})]}),i.statistics.engine&&e("div",{className:"item small",children:[a("div",{className:"icon blue",children:a(T,{})}),e("div",{className:"info",children:[a("div",{className:"title",children:l("APPS.GARAGE.ENGINE")}),e("div",{className:"value",children:[i.statistics.engine,"%"]})]})]}),i.statistics.body&&e("div",{className:"item small",children:[a("div",{className:"icon blue",children:a(I,{})}),e("div",{className:"info",children:[a("div",{className:"title",children:l("APPS.GARAGE.BODY")}),e("div",{className:"value",children:[i.statistics.body,"%"]})]})]})]})]})]})};export{V as default};
